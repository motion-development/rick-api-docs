# Authorizing the User

The first step in the OAuth2 process is to authorize the user. This is done by redirecting the user to our authorization page. The user will be asked to log in and authorize your application. If the user authorizes your application, they will be redirected back to your application with a `code` parameter in the query string. This `code` parameter is used to obtain an access token. Alternatively, we may redirect the user back to your application with an `error` parameter in the query string; see the [errors section](../errors) for more information.

## Building the Authorization URL

To build the authorization URL, you will need to know the following parameters:

| Parameter        | Required  | Description                                                                                                                              |
|------------------|-----------|------------------------------------------------------------------------------------------------------------------------------------------|
| `client_id`      | True      | The client ID of your application.                                                                                                       |
| `redirect_uri`   | True      | The URL to redirect the user back to after authorization, set [when creating your application](getting-started#creating-an-application). |
| `response_type`  | True      | The response type, should always be set to `code`.                                                                                       |
| `scope`          | True      | The scope of the access request, see the [scopes section](getting-started#scopes) for more information.                                  |
| `state`          | False     | A random string generated by your application, used to prevent CSRF attacks. This is optional but highly recommended.                    |

The authorization URL should be built as follows:

`https://r.mtdv.me/oauth2/authorize?client_id={client_id}&redirect_uri={redirect_uri}&response_type=code&scope={scope}&state={state}`

:::alert orange
The `redirect_uri` must be URL encoded before being passed in the URL.
:::

# Next Steps

Once you have built the authorization URL, you can redirect the user to the URL. The user will be asked to log in and authorize your application. If the user authorizes your application, they will be redirected back to your application with a `code` parameter in the query string. This `code` parameter is used to obtain an access token. Alternatively, we may redirect the user back to your application with an `error` parameter in the query string; see the [errors section](../errors) for more information.

If a `code` parameter is present in the query string, you can use it to obtain an access token by following the [token exchange](token-exchange) section. If an `error` parameter is present in the query string, you should handle the error accordingly.
